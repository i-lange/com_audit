const iseo_forms=document.querySelectorAll("[data-iseo-form]");function iseoProcess(e){var t=e.querySelectorAll('[type="submit"]'),o=e.querySelectorAll("input");let a={};o.forEach(function(e){var t=e.getAttribute("type");"file"!==t&&"reset"!==t&&"submit"!==t&&(a[e.getAttribute("name")]=e.value)}),iseoRequest(e,t,a)}function iseoRequest(t,e,o){Joomla.request({url:"?option=com_iseo&task=addAudit&format=json",method:"POST",headers:{"Cache-Control":"no-cache","Content-Type":"application/json"},data:JSON.stringify({fields:o}),onBefore:function(){t.classList.add("loading"),e.forEach(function(e){e.setAttribute("disabled","1")})},onSuccess:function(e){e=JSON.parse(e);iseoClear(t,e),iseoAlert(t,e),iseoUpdate(t,e),e.data.redirect&&(location.href=e.data.redirect)},onError:function(){iseoAlert(t,{type:"danger",text:"Unable to send data"})},onComplete:function(){t.classList.remove("loading"),e.forEach(function(e){e.removeAttribute("disabled")})}})}function iseoClear(e,t){e.querySelectorAll("input").forEach(function(e){e.classList.remove("is-valid","is-invalid")}),e.querySelectorAll(".alert").forEach(function(e){e.remove()}),"success"===t.data.type&&e.reset()}function iseoAlert(e,t){var o=document.createElement("div");o.classList.add("alert","alert-"+t.data.type),o.setAttribute("role","alert"),o.innerText=t.message,e.appendChild(o)}function iseoUpdate(t,e){0!==e.data.errors.length&&e.data.errors.forEach(function(e){"header"!==e.key&&t.querySelector('[name="'+e.key+'"]').classList.add("is-invalid")}),0!==e.data.valid.length&&e.data.valid.forEach(function(e){t.querySelector('[name="'+e+'"]').classList.add("is-valid")})}iseo_forms.forEach(function(t){t.addEventListener("submit",function(e){e.preventDefault(),e.stopPropagation(),iseoProcess(t)})});
//# sourceMappingURL=front.min.js.map